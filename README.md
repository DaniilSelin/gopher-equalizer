Идея о паттерне плагин для алгоритма балансировки!


Запросы балансировщик пересылает на один из бэкенд-серверов. Адреса серверов задавать через конфигурацию. net/htt. Паттерн плагин для распределения (мин.- round-robin). Логгирование. YAML. ate-limiting на основе Token Bucket. 

bucket: количество токенов (емкость), скорость пополнения.

Запрос допустимый, если в bucket клиента есть токен.

time.Ticker для пополнения токенов

Dockerfile и docker-compose.yml, БД??????

go test -bench=. -race

Пример нагрузки через Apache Bench (ab -n 5000 -c 1000 http://localhost:8080/)

Переодический Health Checks.

CRUD для управления клиентами:

    API для добавления/удаления клиентов (IP/API-ключей) и настройки их лимитов.
    Пример эндпоинта: POST /clients { "client_id": "user1", "capacity": 100, "rate_per_sec": 10 }

А зачем?